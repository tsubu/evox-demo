EvoX システム進捗と概要

▼システム構成
- フロントエンド: React + Vite
- バックエンド: Laravel 10.x + PostgreSQL

▼主要機能

・認証システム
- SMS OTP認証: 管理者向け2段階認証
- セッション管理: Laravel標準セッション
- セキュリティ: CSRF保護、XSS対策

・QRコード管理
- ライブイベントQR: 標準的なQRコード（ポイント付与、使用履歴記録）
- ゲームグッズQR: オプション機能付き（アバター表情・行動・背景色・エフェクト・サウンド）
- オプション機能: ゲームグッズQRで5種類のカスタマイズ要素選択
- ダウンロード: PNG・SVG形式でのQRコード出力
- 参加者一覧: ライブイベント参加者のJSON・CSVダウンロード機能

・ユーザー管理
- 電話番号ベース登録: メール認証付き
- ブラックリスト機能: ユーザー制限・解除
- 統計表示: 登録ユーザー数、アクティブユーザー数

・管理者管理
- CRUD機能: 管理者アカウントの作成・編集・削除
- 自己削除防止: 自分自身のアカウント削除を防止
- 権限管理: 管理者権限の制御

・ニュース管理
- 投稿・編集: ニュースの作成・編集・削除
- 公開制御: 公開・非公開の切り替え
- API提供: フロントエンド用最新ニュースAPI

・統計・ダッシュボード
- システム統計: ユーザー・QRコード・ニュース・管理者の統計
- リアルタイム更新: 最新データの自動更新
- グラフ表示: Chart.jsによる視覚的統計表示
- CSV出力: 統計データのエクスポート機能



▼技術仕様

・バックエンド
- フレームワーク: Laravel 10.x
- データベース: PostgreSQL
- 認証: Laravel Sanctum + セッション
- SMS: Twilio等のSMSサービス
- QRコード生成: endroid/qr-code 6.x

・フロントエンド
- フレームワーク: React + Vite
- UI: Bootstrap 4（管理画面）
- グラフ: Chart.js
- アイコン: Font Awesome

・セキュリティ
- 認証: SMS OTP認証
- CSRF保護: 全フォームでCSRFトークン
- XSS対策: Bladeテンプレートエンジン
- SQLインジェクション対策: Eloquent ORM



▼開発環境

・必要なソフトウェア
- PHP 8.1以上
- Composer 2.0以上
- Node.js 16以上
- PostgreSQL 13以上
- MAMP（ローカル開発用）



▼主要機能の特徴

・QRコードオプション機能
- 5種類のオプション: 表情・行動・背景色・エフェクト・サウンド
- 最大5選択肢: 各オプション最大5種類まで設定可能
- 動的管理: 管理画面で選択肢の追加・削除・編集
- 一括操作: 複数QRコードへの一括適用



▼認証システム
- 2段階認証: 電話番号・パスワード → SMS OTP
- 重複送信防止: フロントエンド・バックエンド両方で制御
- セッション管理: 明示的なセッション開始・保存



▼統計機能
- リアルタイム統計: ユーザー・QRコード・ニュース・管理者の統計
- 期間別表示: 今日・今週・今月・今年・全期間
- グラフ表示: ユーザー登録推移・QRコード使用推移
- CSV出力: 統計データのエクスポート


========================================================


▼実装完了機能

・フロントエンド連携
- API設計: オプション選択用API（完了）
- 選択UI: ユーザー向け選択画面（完了）
- 結果保存: 選択結果のデータベース保存（完了）

・QRコードオプション機能（完了）
- オプション選択画面: 5種類のオプション選択UI
- 結果表示画面: 選択結果と報酬の表示
- API連携: バックエンドとの完全連携

▼実装完了機能

・テーマ別選択肢機能（完了）
- QRコードテーマテーブル: 5種類のテーマ（ロック・ポップ・クラシック・スポーツ・アニメ）
- テーマ別オプション: 各テーマに特化した表情・行動・背景・エフェクト・サウンド
- 管理画面連携: QRコード作成時にテーマ選択可能
- シーダー機能: デフォルトテーマの自動設定

・統計分析機能（完了）
- QRコード使用統計: 期間別・QRコード別の使用回数・ポイント統計
- オプション選択統計: 各オプションの選択傾向分析
- テーマ別統計: テーマごとのQRコード使用状況
- 時系列統計: 時間別・日別・週別・月別の使用推移
- ユーザー行動分析: アクティブユーザー・平均ポイント・使用傾向

・ペンライト機能（完了）
- ペンライトモード: スマホ画面をペンライトのように光らせる機能
- 色変更機能: 8色のカラーパレット・アーティストカラー対応
- パターン変更機能: 単色・点滅・フェード・波紋・虹色・パルス
- 音声連動機能: Web Audio APIによる音声レベル検出・連動
- 映像トリガー機能: カメラ映像のモーション検出による自動点灯
- トリガーモード: 手動・音声・映像・音声+映像の4モード
- 同期機能: 複数ユーザーの画面を同期する機能
- 全画面モード: フルスクリーン表示対応
- タッチ対応: モバイルデバイスでのタッチ操作
- サーバー制御機能: 管理者による一括制御
- 曲別プリセット機能: 事前配信・タイミング制御

▼今後の拡張予定

・季節限定機能
- 季節に応じた選択肢の自動切り替え
- イベントカレンダー連携

・高度な同期機能
- WebRTCによるP2P同期
- リアルタイム音声・音楽同期



▼運用・保守

・定期メンテナンス
- データベース: 定期的なバックアップ
- ログ管理: ログローテーション・監視
- セキュリティ: 脆弱性スキャン・パッチ管理

・監視項目
- サーバーリソース: CPU・メモリ・ディスク使用率
- アプリケーション: レスポンス時間・エラー率
- データベース: 接続数・クエリ実行時間
