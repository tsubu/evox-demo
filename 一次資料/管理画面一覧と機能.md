# EvoX システム 管理画面一覧と機能

## 📊 管理画面（Admin Panel）

### 🔐 認証関連画面

#### **1. 管理者ログイン画面** (`/admin/login`)
- **機能**: SMS OTP認証による2段階認証
- **特徴**:
  - 電話番号・パスワードによる初期認証
  - SMS認証コードによる2段階認証
  - セッション管理による認証状態保持
  - CSRF保護・XSS対策
- **セキュリティ**: 重複送信防止、セッション管理

#### **2. 管理者ダッシュボード** (`/admin/dashboard`)
- **機能**: システム全体の統計情報表示
- **表示内容**:
  - ユーザー統計（登録数、アクティブ数）
  - QRコード統計（作成数、使用数）
  - ニュース統計（投稿数、公開数）
  - 管理者統計（アカウント数）
- **機能**: CSV出力、リアルタイム更新

### 👥 ユーザー管理画面

#### **3. ユーザー一覧画面** (`/admin/users`)
- **機能**: 登録ユーザーの一覧表示・管理
- **表示内容**:
  - ユーザーID、電話番号、ニックネーム
  - 登録日時、最終ログイン日時
  - アカウント状態（アクティブ/非アクティブ）
- **操作**: 詳細表示、ブラックリスト管理

#### **4. ユーザー詳細画面** (`/admin/users/{id}`)
- **機能**: 個別ユーザーの詳細情報表示
- **表示内容**:
  - 基本情報（ID、電話番号、ニックネーム）
  - 登録情報（登録日時、メール認証状況）
  - 使用履歴（QRコード使用履歴）
  - ポイント情報
- **操作**: ブラックリスト登録/解除

### 📰 ニュース管理画面

#### **5. ニュース一覧画面** (`/admin/news`)
- **機能**: ニュース記事の一覧表示・管理
- **表示内容**:
  - タイトル、内容、公開状態
  - 作成日時、更新日時
  - 公開/非公開の切り替え
- **操作**: 新規作成、編集、削除

#### **6. ニュース作成/編集画面** (`/admin/news/create`, `/admin/news/{id}/edit`)
- **機能**: ニュース記事の作成・編集
- **入力項目**:
  - タイトル（必須）
  - 内容（必須）
  - 公開状態（公開/非公開）
- **機能**: プレビュー、下書き保存

### 📱 QRコード管理画面

#### **7. QRコード一覧画面** (`/admin/qrcodes`)
- **機能**: QRコードの一覧表示・管理
- **表示内容**:
  - QRコードID、タイトル、説明
  - タイプ（ライブイベント/ゲームグッズ）
  - ポイント、有効期限、状態
- **操作**: 新規作成、詳細表示、編集、削除

#### **8. QRコード作成画面** (`/admin/qrcodes/create`)
- **機能**: 新しいQRコードの作成
- **入力項目**:
  - 基本情報（タイトル、説明、ポイント）
  - タイプ選択（ライブイベント/ゲームグッズ）
  - 有効期限設定
  - オプション設定（ゲームグッズの場合）
- **機能**: リアルタイムプレビュー、PNG/SVG出力

#### **9. QRコード詳細画面** (`/admin/qrcodes/{id}`)
- **機能**: QRコードの詳細情報表示
- **表示内容**:
  - 基本情報（ID、タイトル、説明、ポイント）
  - タイプ別情報（アーティスト名、オプション設定）
  - 使用統計（使用回数、参加者数）
  - QRコード画像
- **操作**: 編集、削除、ダウンロード

#### **10. QRコード編集画面** (`/admin/qrcodes/{id}/edit`)
- **機能**: QRコードの情報編集
- **編集項目**:
  - 基本情報の変更
  - オプション設定の変更
  - 有効期限の変更
- **機能**: 変更履歴、バックアップ

#### **11. ライブイベント参加者一覧画面** (`/admin/qrcodes/{id}` - ライブイベントの場合)
- **機能**: ライブイベント参加者の一覧表示
- **表示内容**:
  - 参加者ID、電話番号、ニックネーム
  - 獲得ポイント、参加時刻
  - 統計情報（参加者数、総ポイント）
- **機能**: JSON/CSVダウンロード、リアルタイム更新

### 🎛️ ペンライト制御画面

#### **12. ペンライト制御画面** (`/admin/penlight-control`)
- **機能**: ライブ会場のペンライト一括制御
- **制御項目**:
  - 基本設定（色、パターン、明度）
  - アーティストプリセット
  - イベントプリセット
  - 音楽連動設定（BPM、強度、カラースキーム）
  - 曲別プリセット（事前配信・タイミング制御）
- **機能**: リアルタイム制御、プリセット管理
- **アクセス**: 管理画面ダッシュボードから直接アクセス可能

### 👨‍💼 管理者管理画面

#### **13. 管理者一覧画面** (`/admin/admins`)
- **機能**: 管理者アカウントの一覧表示・管理
- **表示内容**:
  - 管理者ID、名前、電話番号
  - 作成日時、最終ログイン日時
  - 権限レベル
- **操作**: 新規作成、編集、削除

#### **14. 管理者作成/編集画面** (`/admin/admins/create`, `/admin/admins/{id}/edit`)
- **機能**: 管理者アカウントの作成・編集
- **入力項目**:
  - 名前、電話番号、パスワード
  - 権限設定
- **セキュリティ**: 自己削除防止

---

## 🔧 管理画面技術仕様

### フロントエンド技術
- **フレームワーク**: Laravel Blade + Bootstrap 4
- **UIライブラリ**: AdminLTE
- **グラフ表示**: Chart.js
- **アイコン**: Font Awesome
- **JavaScript**: Vanilla JS + Fetch API

### バックエンド技術
- **フレームワーク**: Laravel 10.x
- **データベース**: PostgreSQL
- **認証**: Laravel Session + Admin Guard
- **CSV出力**: Laravel Excel
- **キャッシュ**: Laravel Cache

### セキュリティ機能
- **認証**: SMS OTP認証、セッション管理
- **保護**: CSRF保護、XSS対策
- **権限**: 管理者権限チェック
- **通信**: HTTPS通信

---

## 📊 管理画面の特徴

### 統計・分析機能
- **リアルタイム統計**: ユーザー・QRコード・ニュース・管理者の統計
- **期間別表示**: 今日・今週・今月・今年・全期間
- **グラフ表示**: Chart.jsによる視覚的統計
- **CSV出力**: 統計データのエクスポート

### QRコード管理機能
- **ライブイベント**: 標準的なQRコード（ポイント付与、使用履歴）
- **ゲームグッズ**: オプション機能付き（カスタマイズ要素選択）
- **ダウンロード**: PNG・SVG形式での出力
- **参加者管理**: ライブイベント参加者のJSON・CSV出力

### ペンライト制御機能
- **リアルタイム制御**: 管理者による一括制御
- **プリセット管理**: アーティスト・イベント・曲別プリセット
- **音楽連動**: BPM・強度・カラースキーム設定
- **事前配信**: 曲別プリセットの事前配信・タイミング制御
- **ダッシュボード統合**: 管理画面ダッシュボードからの直接アクセス

### ユーザー管理機能
- **詳細情報**: ユーザーの詳細情報・使用履歴
- **ブラックリスト**: ユーザーの制限・解除
- **統計表示**: 登録ユーザー数、アクティブユーザー数

この管理画面は、EvoXシステムの運営・管理に必要な全ての機能を提供し、効率的なシステム運用を可能にします。
